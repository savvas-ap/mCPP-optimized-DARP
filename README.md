## Cooperative Multi-UAV Coverage Mission Planning Platform for Remote Sensing Applications - Path Planning back-end


![Mission examples](cover.png)


### Description
The project in this repository is a back-end, multi-robot coverage path planning (mCPP) module, utilizing STC 
[ https://link.springer.com/article/10.1023/A:1016610507833 ] and DARP [ https://kapoutsis.info/wp-content/uploads/2017/02/j3.pdf ].
The implemented algorithm is optimized in order to efficiently cope with real-life multi-UAV coverage missions. The
most important contribution of this work is a grid placement optimization scheme, utilizing simulated annealing algorithm
[ https://www.researchgate.net/publication/6026283_Optimization_by_Simulated_Annealing ]. This optimization procedure can
help to efficiently apply any grid-based path planning methodology in complex-shaped polygon regions, overcoming discretization
issues and making them directly applicable to real-world problems. The implementation of this optimization procedure has
managed to achieve state-of-the-art performance for the mCPP algorithm (see also [ https://github.com/savvas-ap/cpp-simulated-evaluations ]).
In addition, a turn reduction methodology is applied in order to make the generated paths more efficient. 

A journal has been submitted, presenting a "mutli-UAV coverage mission planning platform for remote sensing applications"
that is currently under review (S. D. Apostolidis, P. Ch. Kapoutsis, A. Ch. Kapoutsis, E. B. Kosmatoupoulos, “Cooperative
Multi-UAV Coverage Mission Planning Platform for Remote Sensing Applications”, “Autonomous Robots”, Under Review). In 
this work, the mCPP algorithm included in this repository is presented, thoroughly explained and evaluated.  Please,
in case you use this code keep in mind to cite this work when published.

The first figure above, shows four examples of missions generated by this mCPP algorithm and visualized trough the mission
planning platform mentioned above.

#### Features of the CPP methodology:
- Support of multiple robots/vehicles
- Support of convex and non-convex, very complex-shaped polygon regions
- Support of multiple obstacles inside the operational area
- Fair and proportional area allocation of the overall region to each robot/vehicle
- Utilization of the initial positions of the vehicles for both the area allocation and the path planning, in order to make
the methodology more efficient
- Energy aware features (paths' length reduction, turns reduction, avoidance of redundant movements that do not contribute in the coverage, etc.)

#### mCPP method's architecture:
The figure below shows the data pipeline of the back-end mCPP module.
![Back-end architecture](backend.jpg)


### Input/Output:
The algorithm receives as input the following:
- The number of robots/vehicles
- The desired scanning density (scanning density corresponds to the desired distance between two sequential trajectories in meters)
- A polygon Region of Interest (ROI), formatted in WGS84 coordinate system
- A set of obstacles (polygons formatted in WGS84 coordinate system) inside the ROI (optional)
- A boolean variable named pathsStrictlyInPoly, to select mode between (paths strictly in poly/better coverage)
- The initial positions of the vehicles (optional - if not provided, random will be used instead | Note that the number 
  of the initial positions should always be the same as the number of robots/vehicles)
- The desired percentages for proportional area allocation (optional - if not provided, equal will be used instead | Note
  that the number of the percentages should always be the same as the number of robots/vehicles and their sum should be 1)

As an output, the algorithm provides set of waypoints (path), for each vehicle involved in the mission, in order
to cooperatively completely cover the ROI.

### Run the project:
In the src/main/resources folder is included a JSON file, containing input parameters for an example mission with 3 vehicles.
The input variables are included in the JSON with the same order as described above.

#### 1st way: run the jar file


In the out/artifacts/mCPP_optimized_DARP_jar you can find the project packed in a jar file. The jar expects as an input the path
for a JSON file as the one included in the resources. To run the jar from its current location with the json in the resources folder
run:

```bash
java -jar mCPP-optimized-DARP.jar "../../../src/main/resources/inputVariables.json"
```

#### 2nd way: run the Main.java

The Main class of the project expects as argument the path for such a JSON file as well. To run the main with the JSON file provided
in the resources folder run:

```bash
"src/main/resources/inputVariables.json".
```

#### 3rd way: run the Poly2Waypoints.java
In the src/test.java folder you can find the Poly2Waypoints class. In this class you can find the definition of some example
input variables to run the project, with the same order as described above.

#### Additional tools
A simple map tool where you can create polygons over a map and copy the coordinates, and a simple matlab code to visualize
the output of this project are also included in the "src/main/resources/" folder.